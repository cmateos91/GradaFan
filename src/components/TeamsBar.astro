---
import { Image } from 'astro:assets';

// Importar todos los logos de equipos desde src/assets
const teamLogos = import.meta.glob('../assets/img/spain_*.svg', { eager: true });

// Lista de equipos LaLiga 2025-26 con logos disponibles (alfabéticamente)
const teams = [
    { name: 'Athletic Club', slug: 'athletic-club' },
    { name: 'Atlético de Madrid', slug: 'atletico-madrid' },
    { name: 'FC Barcelona', slug: 'barcelona' },
    { name: 'Celta de Vigo', slug: 'celta' },
    { name: 'RC Deportivo', slug: 'deportivo' },
    { name: 'Elche CF', slug: 'elche' },
    { name: 'RCD Espanyol', slug: 'espanyol' },
    { name: 'Getafe CF', slug: 'getafe' },
    { name: 'Girona FC', slug: 'girona' },
    { name: 'Levante UD', slug: 'levante' },
    { name: 'RCD Mallorca', slug: 'mallorca' },
    { name: 'CA Osasuna', slug: 'osasuna' },
    { name: 'Real Oviedo', slug: 'oviedo' },
    { name: 'Rayo Vallecano', slug: 'rayo-vallecano' },
    { name: 'Real Betis', slug: 'real-betis' },
    { name: 'Real Madrid', slug: 'real-madrid' },
    { name: 'Real Sociedad', slug: 'real-sociedad' },
    { name: 'Sevilla FC', slug: 'sevilla' },
    { name: 'Valencia CF', slug: 'valencia' },
    { name: 'Villarreal CF', slug: 'villarreal' }
];

// Función para obtener el logo correcto
function getTeamLogo(slug: string) {
    const logoPath = `../assets/img/spain_${slug}.svg`;
    return teamLogos[logoPath];
}
---

<!-- ==================== TEAMS BAR ==================== -->
<div class="teams-bar" id="teams-bar">
    <div class="container">
        <div class="teams-bar-scroll">
            {teams.map(team => {
                const logo = getTeamLogo(team.slug);
                return logo ? (
                    <div class="team-badge-item" data-team-name={team.name} title={team.name}>
                        <Image
                            src={logo.default}
                            alt={team.name}
                            class="team-badge-img"
                            width={40}
                            height={40}
                            loading="eager"
                        />
                    </div>
                ) : null;
            })}
        </div>
    </div>
</div>
